<!DOCTYPE html>
<html>
<head>
	<title>Electric Dreams</title>

	<style type="text/css">
	body {
		background-image: url("oldpc.jpg");
		background-repeat: no-repeat;
	}
	#position {
		position: absolute;
		text-align: left;
		padding: 5px;
		width: 250px;
		top: 340px;
		left: 325px;
		font-family: "Courier New", Courier, monospace;
		color: white;

	}
	</style>
	<script type="text/javascript">
	function doCheck(){
    var allFilled = true;

    var inputs = document.getElementsByTagName('input');
    for(var i=0; i<inputs.length; i++){
        if(inputs[i].type == "text" && inputs[i].value == ''){
            allFilled = false;
            break;
        }
    }

    document.getElementById("mysubmit").disabled = !allFilled;
}

window.onload = function(){
    var inputs = document.getElementsByTagName('input');
    for(var i=0; i<inputs.length; i++){
        if(inputs[i].type == "text"){
            inputs[i].onkeyup = doCheck;
            inputs[i].onblur = doCheck;
        }
    }
};
	</script>

</head>
<body>
<div id="position">
<p id = "computer">Feed me words!!</p>
<input id = "human" type = "text" placeholder = "Type your response...">
<button id="mysubmit">Enter</button>
</div>
<script type="text/javascript">
//your script here
//There are three common methods to gain access (control) of markup elements
//We have used querySelector

var computer = document.querySelector('#computer');
//without modifying the markup finish the next 2 var statements	
var human = document.getElementById('human');
var button = document.getElementsByTagName('button')[0];

//other vars we will use in the next step
var responseNumber;//used to store the value of the response to display to the player
var newResponse;//used to generate the next response and prevent duplication of responses
var humanMsg = "";//will hold the text (value) of the player input
var computerMsg = "";//will hold the computer text displayed to the player each turn

var genericResponses = [
	"Try that again.",
	"You are a pain in my disk drive.",
	"What did you call me?",
	"You're what hurts?",
	"That is the stupidest thing I have ever heard.",
	"GET TO THE CHOPPA!!",

];//will be populated with messages to respond to the player

//make the human input the focus when the page loads
human.focus();

button.addEventListener("click",clickHandler,false);

function clickHandler(){
	playGame();
}

window.addEventListener("keydown",keydownHandler,false);

function keydownHandler(event){
	if (event.keyCode===13) {
		playGame();
	}
}

function playGame() {
	//let the games begin
	//order of business:

	// //version1
	// //1. determine a random response
	// // responseNumber = Math.floor(Math.random()*genericResponses.length);

	// //grab the message from the response array
	// computerMsg = genericResponses[responseNumber];

	// //2. update the text in the computer field to the new response
	// computer.innerHTML = computerMsg;


	// //version2
	// //1. determine a random response
	// newResponse = Math.floor(Math.random()*genericResponses.length);
	// while (newResponse === responseNumber){
	// 	newResponse = Math.floor(Math.random()*genericResponses.length);
	// }
	// responseNumber = newResponse;

	// //grab the message from the response array
	// computerMsg = genericResponses[responseNumber];
	// //2. update the text in the computer field to the new response
	// computer.innerHTML = computerMsg;


	// //version3
	if (genericResponses.length >0){
		newResponse = Math.floor(Math.random()*genericResponses.length);
		responseNumber = newResponse;
		computer.innerHTML = genericResponses[responseNumber];
		genericResponses.splice(responseNumber,1);
	} else {
		computer.innerHTML = "Would you like me to search the web for that?";
		human.className="displayNone";
		button.className="displayNone";
		setTimeout(endGame,2000);
	}

	// //version4
	// humanMsg = (human.value).toLowerCase();
	// if (humanMsg.indexOf("good") !== -1){
	// 	computerMsg = "That is good for you.";
	// }else if (humanMsg.indexOf("bad") !== -1){
	// 	computerMsg = "You live a sad life.";
	// }else {
	// 	computerMsg = "You know nothing.";
	// }
	// computer.innerHTML = computerMsg;

	//3. wipe the text in the player input field 
	human.value = "";

}

function endGame(){
	////.assign() leaves the back button working
	////.replace() disables the back button by replacing the location in the history
	location.replace("https://www.youtube.com/watch?v=dQw4w9WgXcQ");
}
</script>
</body>
</html>